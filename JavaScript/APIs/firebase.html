<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Firebase</title>
	</head>
	<body>
		<h1>Information we get from Firebase done by Omar</h1>
		<h3>Age</h3>
		<div class="age"></div>
		<br />
		<h3>Llista Compra</h3>
		<div class="compra"></div>
		<script>
			const database = "https://singulars-2020-default-rtdb.firebaseio.com/";
			var age = document.querySelector(".age");
			var compra = document.querySelector(".compra");

			fetch(database + "alumnes.json")
				.then((res) => res.json())
				.then((res) => {
					// console.log(res);
					for (alumne in res) {
						age.innerHTML += `<p>${alumne} -> ${res[alumne].edat}, ubicaci√≥ ${res[alumne].ubicacio}</p>`;
					}
				});

			fetch(database + "llista-compra.json")
				.then((res) => res.json())
				.then((res) => {
					// console.log(res);
					for (element in res) {
						compra.innerHTML += `<p>${res[element]}</p>`;
					}
				});

			// POST TO FIREBASE
			fetch(database + "alumnes.json", {
				method: "POST",
				headers: {
					"Content-Type": "application/json",
				},
				body: JSON.stringify({
					alumne: "Jack Sparrow",
					ubicacio: "Antillas Inglesas",
				}),
			})
				.then((res) => res.json())
				.then((res) => console.log(res));
		</script>
	</body>
</html>
