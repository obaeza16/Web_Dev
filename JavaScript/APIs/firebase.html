<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Firebase</title>
    </head>

    <body>
        <h1>Information we get from Firebase done by Omar</h1>
        <h3>Age</h3>
        <div class="age"></div>
        <br />
        <h3>Llista Compra</h3>
        <div class="compra"></div>
        <h3>Mensajes</h3>
        <ul class="mensajes"></ul>
        <script>
            const database = "https://singulars-2020-default-rtdb.firebaseio.com/";
            // var age = document.querySelector( ".age" );
            // var compra = document.querySelector( ".compra" );

            // fetch( database + "alumnes.json" )
            //     .then( ( res ) => res.json() )
            //     .then( ( res ) =>
            //     {
            //         // console.log(res);
            //         for ( alumne in res )
            //         {
            //             age.innerHTML += `<p>${ alumne } -> ${ res[ alumne ].edat }, ubicació ${ res[ alumne ].ubicacio }</p>`;
            //         }
            //     } );

            // fetch( database + "llista-compra.json" )
            //     .then( ( res ) => res.json() )
            //     .then( ( res ) =>
            //     {
            //         // console.log(res);
            //         for ( element in res )
            //         {
            //             compra.innerHTML += `<p>${ res[ element ] }</p>`;
            //         }
            //     } );

            // IDEA PARA PROYECTO:
            // web que te dice que pickear, builds y demas de lol dependiendo de tus inputs

            // POST TO FIREBASE
            // fetch( database + "missatges.json", {
            //     method: "POST",
            //     headers: {
            //         "Content-Type": "application/json",
            //     },
            //     body: JSON.stringify( {
            //         user: "Óscar Baeza",
            //         message: "I love programming KEKW",
            //     } ),
            // } )
            //     .then( ( res ) => res.json() )
            //     .then( ( res ) => console.log( res ) );


            var miss = document.querySelector( ".mensajes" )

            // FETCH FROM FIREBASE
            fetch( database + "missatges.json" )
                .then( ( res ) => res.json() )
                .then( ( res ) =>
                {
                    var missatges = res
                    for ( id in missatges )
                    {
                        miss.innerHTML += `<li>${ missatges[ id ].user } és l'usuari, amb el missatge: ${ missatges[ id ].message }</li>`
                    }
                } )
        </script>
    </body>

</html>
