<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ej15</title>
		<link rel="stylesheet" href="style.css" />
		<style>
			.blau {
				background-color: blue;
			}

			.verd {
				background-color: green;
			}

			.groc {
				background-color: yellow;
			}

			.vermell {
				background-color: red;
			}

			div {
				max-width: 2000px;
				display: block;
			}

			.container {
				/* overflow: hidden; */
				display: flex;
			}

			.filter {
				float: left;
				color: #ffffff;
				line-height: 100px;
				text-align: center;
				margin: 10px 0px;
				width: 0px;
				transition: 1s;
			}

			/* The "show" class is added to the filtered elements */
			.show {
				width: 25px;
				margin: 10px;
			}

			.btn {
				margin: 10px;
				border: none;
				outline: none;
				padding: 12px 16px;
				background-color: #f1f1f1;
				cursor: pointer;
			}

			/* Add a light grey background on mouse-over */
			.btn:hover {
				background-color: #ddd;
			}

			/* Add a dark background to the active button */
			.btn.active {
				background-color: #666;
				color: white;
			}
		</style>
	</head>

	<body>
		<h2>
			<a href="">Exercici 15.1</a>: Filtre guai. Fes un filtre de elements que
			et mostri els d'un color concret (blau, verd, groc, vermell), tots els
			elements o cap element amb una animació que faci que els elements que
			sobren desapareguin d'alguna manera.
		</h2>
		<br />

		<div id="cuadros" class="container">
			<div class="filter vermell show"></div>
			<div class="filter blau show"></div>
			<div class="filter groc show"></div>
			<div class="filter vermell show"></div>
			<div class="filter groc show"></div>
			<div class="filter blau show"></div>
			<div class="filter groc show"></div>
			<div class="filter blau show"></div>
			<div class="filter verd show"></div>
			<div class="filter blau show"></div>
			<div class="filter verd show"></div>
			<div class="filter groc show"></div>
			<div class="filter vermell show"></div>
			<div class="filter blau show"></div>
			<div class="filter verd show"></div>
			<div class="filter groc show"></div>
			<div class="filter verd show"></div>
			<div class="filter vermell show"></div>
			<div class="filter verd show"></div>
			<div class="filter vermell show"></div>
		</div>

		<div id="myBtnContainer">
			<button class="btn active" onclick="showAll()">Show all</button>
			<button class="btn" onclick="hideAll()">Hide All</button>
			<button class="btn" onclick="toggleClasses('blau')">Blau</button>
			<button class="btn" onclick="toggleClasses('verd')">Verd</button>
			<button class="btn" onclick="toggleClasses('groc')">Groc</button>
			<button class="btn" onclick="toggleClasses('vermell')">Vermell</button>
		</div>

		<script>
			var elements = document.querySelectorAll(".filter");

			function toggleClasses(color) {
				elements.forEach((element) => {
					if (element.classList.contains(color)) {
						element.classList.add("show");
					} else {
						element.classList.remove("show");
					}
				});
			}

			function hideAll() {
				elements.forEach((element) => element.classList.remove("show"));
			}

			function showAll() {
				elements.forEach((element) => element.classList.add("show"));
			}

			// Desde aquí de W3Schools

			filterSelection("all");
			function filterSelection(c) {
				var x, i;
				x = document.getElementsByClassName("filter");
				if (c == "all") c = "";
				// Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
				for (i = 0; i < x.length; i++) {
					w3RemoveClass(x[i], "show");
					w3RemoveClass(x[i], "notShow");
					if (x[i].classList.toggle("show") > -1) w3AddClass(x[i], "show");
				}
			}

			// Show filtered elements
			function w3AddClass(element, name) {
				var i, arr1, arr2;
				arr1 = element.className.split(" ");
				arr2 = name.split(" ");
				for (i = 0; i < arr2.length; i++) {
					if (arr1.indexOf(arr2[i]) == -1) {
						element.className += " " + arr2[i];
					}
				}
			}

			// Hide elements that are not selected
			function w3RemoveClass(element, name) {
				var i, arr1, arr2;
				arr1 = element.className.split(" ");
				arr2 = name.split(" ");
				for (i = 0; i < arr2.length; i++) {
					while (arr1.indexOf(arr2[i]) > -1) {
						arr1.splice(arr1.indexOf(arr2[i]), 1);
					}
				}
				element.className = arr1.join(" ");
			}

			// Add active class to the current control button (highlight it)
			var btnContainer = document.getElementById("myBtnContainer");
			var btns = btnContainer.getElementsByClassName("btn");
			for (var i = 0; i < btns.length; i++) {
				btns[i].addEventListener("click", function () {
					var current = document.getElementsByClassName("active");
					current[0].className = current[0].className.replace(" active", "");
					this.className += " active";
				});
			}

			// var blue = document.querySelector("#blau");
			// var green = document.querySelector("#verd");
			// var yellow = document.querySelector("#groc");
			// var red = document.querySelector("#vermell");

			// var buttonGreen = document.querySelector("#showGreen");
			// var buttonBlue = document.querySelector("#showBlue");
			// var buttonYellow = document.querySelector("#showYellow");
			// var buttonRed = document.querySelector("#showRed");

			// buttonBlue.addEventListener("click", () => show);
			// buttonGreen.addEventListener("click", () => show);
			// buttonYellow.addEventListener("click", () => show);
			// buttonRed.addEventListener("click", () => show);
		</script>
	</body>
</html>
